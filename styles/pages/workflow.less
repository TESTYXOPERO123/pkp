/**
 * @file styles/pages/workflow.less
 *
 * Copyright (c) 2014-2015 Simon Fraser University Library
 * Copyright (c) 2003-2015 John Willinsky
 * Distributed under the GNU GPL v2. For full terms see the file docs/COPYING.
 *
 * @brief Styles for the workflow pages
 *
 */

.pkp_page_header {

	.pkp_submission_author {
		display: inline-block;
		margin-right: 1em;
		max-width: 50%; // @todo We can work out a more responsive width system when we improve tablet/phone support
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
		// This ensures the author will align horizontally with the actions
		// which follow it. It's complicated: http://stackoverflow.com/a/20566810/1723499
		vertical-align: bottom;
	}
}

.pkp_submission_actions {
	display: inline-block;
	margin: 0;
	padding: 0;
	list-style: none;
	font-size: @font-sml;

	li {
		display: inline-block;
		padding-right: 1em;

		&:last-child {
			padding-right: 0;
		}
	}

	// @todo workaround until sprites are fully removed
	.sprite:before {
		content: none;
	}

	.participants a:before {
		&:extend( .fa );
		content: @fa-var-users;
		margin-right: 0.25em;
	}
}

.pkp_page_header {

	.submission_progress {
		overflow: hidden;
		display: table;
		width: 100%;
		position: relative;
	}

	.submission_progress li {
		height:37px;
		line-height:12px;
		width: 19.5%;
		background-image:url('{$baseUrl}/lib/pkp/templates/images/structure/workflow_inactive.png');
		text-align: center;
		color: #ffffff;
		float: none;
		vertical-align: middle;
		display: table-cell;
	}

	.submission_progress li a {
		text-decoration:none;
		font-size: 12px;
		text-transform: uppercase;
		color:#ffffff;
		padding-left: 5px;
		padding-right: 5px;
	}

	.submission_progress li.actionNeeded {
		background-image:url('{$baseUrl}/lib/pkp/templates/images/structure/workflow_actionNeeded.png');
	}

	.submission_progress li.stageDisabled {
		background-image:none;
		background-color:#E5E1DD;
	}

	.submission_progress li.stageDisabled a {
		color:#999999;
	}

	.submission_progress li.productionReady {
		background-image:url('{$baseUrl}/lib/pkp/templates/images/structure/workflow_productionReady.png');
	}

	.submission_progress li.current {
 		background-image:url('{$baseUrl}/lib/pkp/templates/images/structure/workflow_current.png');

 		a {
 			font-size: 13px;
 		}

		&.productionReady {
			background-image:url('{$baseUrl}/lib/pkp/templates/images/structure/workflow_productionReadyCurrent.png') !important;
		}
 	}

	.submission_progress li.complete a:after {
		background-color: #e5f4e5;
	}

	.submission_progress li.current a:after {
 		background-color: #EAF3F8;
 	}

	.submission_progress li:before {
		margin-left: 2px;
		left: 100%;
		z-index: 1;
	}

	.submission_progress li a:after {
		background-color: white;
		content: " ";
		display: block;
		width: 1px;
		top: 0;
		height: 37px;
		position: absolute;
	}
}

#reviewTabs {
	.ui-tabs-nav {
		a.pkp_controllers_linkAction {
			line-height:0px;
		}
	}
}
